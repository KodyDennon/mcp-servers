<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Supabase DB MCP | Docs</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../assets/css/style.css" />
    <script defer src="../../assets/js/main.js"></script>
  </head>
  <body>
    <header class="nav">
      <div class="nav__brand">
        <a href="../../">MCP Servers</a>
        <span class="tag">Supabase DB</span>
      </div>
      <nav class="nav__links">
        <a href="../">Servers</a>
        <a
          href="https://github.com/KodyDennon/mcp-servers/tree/main/packages/supabase-db"
          target="_blank"
          >Source</a
        >
        <a href="https://www.npmjs.com/package/mcp-supabase-db" target="_blank"
          >npm</a
        >
      </nav>
    </header>

    <main class="page">
      <section class="hero">
        <p class="hero__eyebrow">Supabase • PostgreSQL</p>
        <h1 class="hero__title">Supabase DB MCP Server</h1>
        <p class="hero__lede">
          35 direct database tools plus Claude Code-compatible execution blocks
          with caching, streaming, and privacy-aware RAG helpers.
        </p>
        <div class="button-row">
          <a
            class="button primary"
            href="https://www.npmjs.com/package/mcp-supabase-db"
            target="_blank"
            >Install from npm</a
          >
          <a
            class="button ghost"
            href="../../assets/files/claude-config.json"
            download
            >Sample Claude config</a
          >
        </div>
        <div class="stats">
          <div class="stat">
            <p class="stat__value">35</p>
            <p class="stat__label">Direct tools</p>
          </div>
          <div class="stat">
            <p class="stat__value">2</p>
            <p class="stat__label">Execution modes</p>
          </div>
          <div class="stat">
            <p class="stat__value">98%</p>
            <p class="stat__label">Token savings (code mode)</p>
          </div>
        </div>
      </section>

      <section class="section">
        <p class="section__kicker">Installation</p>
        <div class="section__inner">
          <div class="grid">
            <div class="card">
              <p class="card__label">Global CLI</p>
              <pre class="code">
npm install -g mcp-supabase-db
supabase-db-mcp</pre
              >
            </div>
            <div class="card">
              <p class="card__label">Project local</p>
              <pre class="code">
npm install mcp-supabase-db
npx mcp-supabase-db</pre
              >
            </div>
            <div class="card">
              <p class="card__label">Monorepo workspace</p>
              <pre class="code">
pnpm --filter mcp-supabase-db build
pnpm --filter mcp-supabase-db start</pre
              >
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <p class="section__kicker">Configuration</p>
        <div class="section__inner">
          <p>
            Create a <code>.env</code> (or <code>mcp-config.json</code>) at the
            repo root. Override lookup path with
            <code>MCP_SUPABASE_ROOT=/path/to/mcp-servers</code> when running the
            global CLI.
          </p>
          <div class="list">
            <li><strong>POSTGRES_URL_NON_POOLING</strong> — PostgreSQL URI</li>
            <li><strong>SUPABASE_URL</strong> — https://YOUR.supabase.co</li>
            <li>
              <strong>SUPABASE_SERVICE_ROLE_KEY</strong> (alias
              SUPABASE_SECRET_KEY)
            </li>
            <li><strong>SUPABASE_ACCESS_TOKEN</strong> — dashboard token</li>
            <li><strong>SUPABASE_PROJECT_ID</strong> — project reference</li>
            <li><strong>OPENAI_API_KEY</strong> — required for RAG/indexing</li>
          </div>
        </div>
      </section>

      <section class="section">
        <p class="section__kicker">Execution modes</p>
        <div class="section__inner">
          <div class="grid">
            <div class="card">
              <p class="card__label">Direct tools</p>
              <h3 class="card__title">Default mode</h3>
              <p>35 standalone MCP tools for schema, data, admin, and AI.</p>
              <pre class="code">supabase-db-mcp</pre>
            </div>
            <div class="card">
              <p class="card__label">Code execution</p>
              <h3 class="card__title">Sandbox</h3>
              <p>Claude Code sandbox with caching + privacy.</p>
              <pre class="code">
MCP_MODE=code-api CODE_EXECUTION_MODE=sandbox supabase-db-mcp</pre
              >
            </div>
            <div class="card">
              <p class="card__label">Code execution</p>
              <h3 class="card__title">Direct</h3>
              <p>Full trust execution on your machine.</p>
              <pre class="code">
MCP_MODE=code-api CODE_EXECUTION_MODE=direct supabase-db-mcp</pre
              >
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <p class="section__kicker">Quality gates</p>
        <div class="section__inner">
          <div class="grid">
            <div class="card">
              <p class="card__label">Tests</p>
              <pre class="code">pnpm --filter mcp-supabase-db test</pre>
            </div>
            <div class="card">
              <p class="card__label">Build</p>
              <pre class="code">pnpm --filter mcp-supabase-db build</pre>
            </div>
            <div class="card">
              <p class="card__label">Release</p>
              <pre class="code">
pnpm changeset
pnpm release</pre
              >
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <p class="section__kicker">Features</p>
        <div class="section__inner">
          <ul class="list">
            <li>Connection, schema, query, migration, and admin tooling</li>
            <li>Edge functions + realtime subscription helpers</li>
            <li>Directory/URL indexing tools with embeddings + RAG</li>
            <li>Streaming + caching + privacy filters for large workloads</li>
            <li>Works with Claude Code, Cursor, Gemini CLI, Cline, Windsurf</li>
          </ul>
        </div>
      </section>
    </main>

    <footer class="footer">
      <a href="../">← Back to server catalog</a>
      <a
        href="https://github.com/KodyDennon/mcp-servers/issues/new"
        target="_blank"
        >Report an issue</a
      >
    </footer>
  </body>
</html>
